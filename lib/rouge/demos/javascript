import { action } from '@ember/object';
import Component from '@glimmer/component';
import { TrackedObject } from 'tracked-built-ins';

import styles from './form.css';

export default class UiForm extends Component {
  data = new TrackedObject(this.args.data ?? {});
  styles = styles;

  @action async submitForm(event) {
    event.preventDefault();

    await this.args.onSubmit(this.data);
  }

  @action updateData({ key, value }) {
    this.data[key] = value;
  }
}
